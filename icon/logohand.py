from cairosvg import svg2png

strokeWidth = 8
contentScale = .5
#themeColorA = "#f55d42"
#themeColorB = "#f5b641"
themeColorA = "#85A98F"
themeColorB = "#D3F1DF"
stroke = "url(#fade)"

def createSvg(stroke, background):

  outline = ""
  bgStop = "25%"
  if background != "none":
    outline = f"""
  <path
     d="M 364.45508 0 C 353.06146 0.00269066 341.66785 0.016717945 330.27344 0.083984375 C 318.27744 0.15298438 306.28403 0.29023439 294.29102 0.61523438 C 268.15802 1.3242343 241.79612 2.8637654 215.95312 7.5097656 C 189.73511 12.221765 165.33564 19.913108 141.51562 32.037109 C 118.10363 43.954108 96.67952 59.52652 78.103516 78.103516 C 59.52652 96.67952 43.955108 118.10363 32.037109 141.51562 C 19.913108 165.33565 12.221765 189.73511 7.5097656 215.95312 C 2.8637654 241.79612 1.3251874 268.15802 0.6171875 294.29102 C 0.29118747 306.28403 0.15298438 318.27744 0.083984375 330.27344 C -9.8663e-05 344.51645 -2.1908697e-20 358.75699 0 373 L 0 659.54492 C 0.00269066 670.93854 0.016717945 682.33216 0.083984375 693.72656 C 0.15298437 705.7226 0.29118747 717.71593 0.6171875 729.70898 C 1.3251874 755.84197 2.8637654 782.20385 7.5097656 808.04688 C 12.221765 834.2649 19.913108 858.66436 32.037109 882.48438 C 43.955108 905.89739 59.52652 927.3205 78.103516 945.89648 C 96.67952 964.47345 118.10363 980.0459 141.51562 991.96289 C 165.33564 1004.0879 189.73512 1011.7792 215.95312 1016.4922 C 241.79612 1021.1372 268.15802 1022.6758 294.29102 1023.3848 C 306.28403 1023.7098 318.27744 1023.847 330.27344 1023.916 C 344.51645 1024 358.75699 1024 373 1024 L 651 1024 C 665.24304 1024 679.48358 1024 693.72656 1023.916 C 705.7226 1023.847 717.71593 1023.7098 729.70898 1023.3848 C 755.84295 1022.6758 782.20287 1021.1372 808.04688 1016.4922 C 834.26391 1011.7792 858.66436 1004.0879 882.48438 991.96289 C 905.89739 980.0459 927.32148 964.47345 945.89844 945.89648 C 964.47443 927.3205 980.0459 905.89739 991.96289 882.48438 C 1004.0879 858.66435 1011.7792 834.26489 1016.4922 808.04688 C 1021.1372 782.20385 1022.6758 755.84197 1023.3848 729.70898 C 1023.7098 717.71593 1023.847 705.7226 1023.916 693.72656 C 1024 679.48358 1024 665.24304 1024 651 L 1024 373 C 1024 358.75699 1024 344.51645 1023.916 330.27344 C 1023.847 318.27744 1023.7098 306.28403 1023.3848 294.29102 C 1022.6758 268.15802 1021.1372 241.79612 1016.4922 215.95312 C 1011.7792 189.73512 1004.0879 165.33564 991.96289 141.51562 C 980.0459 118.10363 964.47443 96.67952 945.89844 78.103516 C 927.32148 59.52652 905.89738 43.954108 882.48438 32.037109 C 858.66435 19.913108 834.26391 12.221765 808.04688 7.5097656 C 782.20288 2.8637654 755.84295 1.3242343 729.70898 0.61523438 C 717.71593 0.29023438 705.7226 0.15298438 693.72656 0.083984375 C 679.48358 -9.8663e-05 665.24304 -2.1908697e-20 651 0 L 364.45508 0 z " fill="{background}"/>
"""
    bgStop ="100%"
  return f"""
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <linearGradient id="fade" x1="0%" y1="0%" x2="{bgStop}" y2="0%" gradientUnits="userSpaceOnUse">
      <stop offset="0%" style="stop-color:{themeColorA};stop-opacity:1" />
      <stop offset="100%" style="stop-color:{themeColorB};stop-opacity:1" />
      </linearGradient>
    </defs>
    {outline}
    <g transform="scale(4)">
        <g id="grab" transform="translate(0 0)">
        <path d="
        M128 96
        m70,20
        h0
        a82.38,82.38,0,0,1,40,70.65
        v41.35
        m-61,0
        l-22.26 -34
        a20,20,0,0,1,34.64 -20
        l6.58 16.31
        v-120
        a8,8,0,0,0-8-8
        h-120
        a8,8,0,0,0,-8,8
        v120
        a8,8,0,0,0,8,8
        h87
        " fill="none" stroke="{stroke}" stroke-linecap="round" stroke-linejoin="round" stroke-width="{strokeWidth}"/>
        </g>
        <g id="photo" fill="{stroke}" fill-rule="nonzero" >
          <path
          d="
          M168,{128 + 36 + 6}
          m-10 0
          h-70
          a8,8,0,0,1-8-8
          v-56
          a8,8,0,0,1,8,-8
          h16
          l8,-12
          h32
          l8,12
          h16
          a8,8,0,0,1,8,8
          v56
          z
          m-55,-36
          a 25 25 0 0 0 50 0
          a 25 25 0 0 0 -50 0
          m9,0
          a 16 16 0 0 0 32 0
          a 16 16 0 0 0 -32 0
          "/>
        </g>
      </g>
  </svg>
  """

svg = createSvg("url(#fade)","none")
fBase = f"./logo-hand"
svgPath = fBase + ".svg"
appIconPath = fBase + "_app" 

with open(svgPath, "w") as f:
  f.write(svg)

with open(appIconPath + ".svg", "w") as f:
  f.write(createSvg("white", "url(#fade)"))

svg2png(url=svgPath, write_to=fBase+ ".png")
svg2png(url=appIconPath + ".svg", write_to=appIconPath + ".png")
